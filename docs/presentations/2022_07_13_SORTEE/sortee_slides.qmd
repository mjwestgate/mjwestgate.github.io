---
title: "Twelve years of open science infrastructure"
author: |
  <b>Lessons from the Atlas of Living Australia</b><br><br>
  Martin Westgate / Science & Decision Support Team / ALA<br>
  SORTEE Conference / 13 July 2022<br>
  ![](images/logos/ALA_Logo.png){style="width: auto; height: 150px; margin-top: 80px; padding-left: 20px; padding-right: 20px"} ![](images/logos/NCRIS_logo.png){style="width: auto; height: 150px; margin-top: 80px; padding-left: 20px; padding-right: 20px"} ![](images/logos/CSIRO_logo.png){style="width: auto; height: 150px; margin-top: 80px; padding-left: 20px; padding-right: 20px"}  <br>
  ![](images/logos/twitter_blue.png){style="width: auto; height: 50px; float:left; margin-top: 20px"} <span style = "float:left; margin-top: 20px">   @westgatecology <span/>
format: 
  revealjs: 
    theme: [default, custom.scss] 
    transition: fade
editor: visual
---

## About me / academia

<br><br><br>

![](images/Limnodynastes_peronii.png){style="width: auto; height: 220px; padding: 10px;"} ![](images/logos/Rlogo.svg){style="width: auto; height: 220px; padding: 10px;"}
![](images/logos/revtools_hex_largetext.png){style="width: auto; height: 220px; padding: 10px;"} ![](images/logos/esh_hex_final.png){style="width: auto; height: 220px; padding: 10px;"}

## Aside / academic stereotypes

<br><br>

- Agility, innovation & novelty
- Discrete projects and budgets
- Dependence on low-cost, short-term programs to deliver major work

#  {background-color="#7a8765" auto-animate="true"}
::: {style="color: #ffffff; font-size: 200%"}
<em>'...we predict that the word “<b>novel</b>” will appear in every record by the year 2123.'</em>
:::

::: {style="color: #ffffff; font-size: 55%;"}
<br>
<br>
C Vinkers et al. (2015) Use of positive and negative words in scientific PubMed abstracts between 1974 and 2014: retrospective analysis.BMJ 351 https://doi.org/10.1136/bmj.h6467 
:::

## Aside / open science

<br><br>

- <b>Necessity</b>: Historic approaches to science have proven unreliable
- <b>Opportunity</b>: Tech literacy means sharing is easier than ever
- <b>Complexity</b>: Broad-scale changes to scientific methods, challenging existing incentive structures


#  {background-color="#7a8765" auto-animate="true"}

::: {style="color: #ffffff; font-size: 200%"}
<b>Thesis #1:</b><br>
Open science is in a transition to a more infrastructure-dependent model
:::

# 

<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Thread to give a sense of COS&#39;s direction in metascience.<br><br>We are evolving from piecemeal project-to-project research to a programs model with areas of ongoing investment to support our mission and guide effective culture change in reward systems, rigor, and reproducibility <a href="https://t.co/3JlzE2lAdC">https://t.co/3JlzE2lAdC</a></p>&mdash; Brian Nosek (@BrianNosek) <a href="https://twitter.com/BrianNosek/status/1545737527889469442?ref_src=twsrc%5Etfw">July 9, 2022</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

## Infrastructure / living atlases

![](images/ALA-homepage.png){fig-align="center"}

##  Infrastructure / living atlases

:::{style="font-size: 60%;"}

| Region    | Organisation | Records (Millions) |
|-----------|------------|-------|
| Australia | ALA        | 112.3 |
| Austria   | BAO        | 7.8   |
| Brazil    | SiBBr      | 23.6  |
| Canada    | Canadensys | 6.3   |
| Estonia   | eElurikkus | 6.2   |
| France    | INPN       | 87.4  |
| Portugal  | GBIF.pt    | 17.5  |
| Spain     | GBIF.es    | 36.3  |
| Sweden    | SBDI       | 103.4 |
| UK        | NBN        | 204.8 |
| Vermont   | VAL        | 7.2   |
| <b>Global</b> | <b>GBIF</b> | <b>2,204.6</b> |
:::


## Infrastructure / challenges
<br>

:::{style="font-size: 70%;"}

|Project stage    | Academia              | Infrastructure                  |
|-----------------|-----------------------|---------------------------------|
| Data collection | fieldwork             | collaboration with institutions |
| Data formatting | customizable          | established standards           |
| Data management | spreadsheet, app      | processing pipeline             |
| Data storage    | single machine or online | database                     |
| Data out        | -                     | API                             |
:::

## Infrastructure / benefits

- stability
- scalability

#  {background-color="#7a8765" auto-animate="true"}

::: {style="color: #ffffff; font-size: 200%"}
<b>Thesis #2:</b><br>
In science, stability & innovation are co-dependent
:::

## Stability / information

![](images/State Library Victoria 1.jpg){fig-align="center"}

::: {style="font-size: 40%;"}
Image source: https://whatson.melbourne.vic.gov.au/things-to-do/state-library-victoria
:::

## Stability / observation

![](images/LHC_nature.jpg){fig-align="center"}

::: {style="font-size: 40%;"}
Image source: Gibney, E. How the revamped Large Hadron Collider will hunt for new physics. Nature 25-05-2022
:::

## Stability / inference

![](images/CRAN_2003-01-25.png){fig-align="center"}

## Stability / inference

![](images/CRAN_2022-07-12.png){fig-align="center"}

## Stability / communication

![](images/Philosophical_Transactions_Volume_1_frontispiece.jpg){style="height: 30%; width: 30%; padding-left: 10%; padding-right: 10%"}![](images/Trisos_etal_2021.png){style="height: 30%; width: 30%; padding-left: 10%; padding-right: 10%"}

::: {style="font-size: 40%;"}
Images:<br>
Henry Oldenburg - Philosophical Transactions, CC BY 4.0, https://commons.wikimedia.org/w/index.php?curid=36495651 <br>
Trisos, C.H., Auerbach, J. & Katti, M. Decoloniality and anti-oppressive practices for a more ethical ecology. Nat Ecol Evol 5, 1205–1212 (2021). https://doi.org/10.1038/s41559-021-01460-w
:::


# {background-color="#7a8765" auto-animate="true"}

::: {style="color: #ffffff; font-size: 200%"}
<b>Thesis #3:</b><br>
Working across the stability / innovation boundary is difficult
:::

## Stability / challenges
<br>

- Shifting baseline syndrome
- Managing pace of change
- Communication across domains

## `galah` {.galah transition="slide" auto-animate="true"}

![](images/logos/galah_logo.png){.absolute left="30%" top="10%" width="40%"}


## `galah` / `ALA4R` / benefits
<br>

- <b>Groundbreaking</b>: released in 2014
- <b>Flexible</b>: return the data you want, customised in various ways
- <b>Inclusive</b>: most options accessible via the API can be constructed

## `galah` / `ALA4R` / problems
<br>

No function naming convention

- abbreviations: `aus()`
- snake case: `ala_fields()`
- contractions: `fieldguide()`
- single words: `occurrences()`, `images()`

## `galah` / `ALA4R` / problems
<br>

Confusing syntax

- unclear differences between functions
  - `ala_list()`, `ala_lists()`, `specieslist()`
- argument names require specialist knowledge
  - `wkt`, `fq`, `qa`
- arguments require `solr` queries passed as strings: 
  - `"taxon_name:\"Alaba vibex\""`

## `galah` / `ALA4R` / problems
<br>
Inconsistent behaviour

- most functions return a `data.frame`
- `occurrences()` returns a `list`
- `fieldguide()` and `plot.occurrences()` output a PDF

## `galah` / benefits {auto-animate="true"}

::: columns
::: {.column width="30%"}
![](images/logos/galah_logo.png)
:::

::: {.column width="70%" style="margin-left:50px;"}
-   Query the ALA (and other national GBIF nodes)
-   Use tidy, pipe-able syntax
:::
:::


## `galah` / benefits
<br>
<br>

:::{style="font-size: 80%;"}
| Lookup               | Narrow a query    | Run a query           |
|----------------------|-------------------|-----------------------|
| `show_all()`         | `galah_filter()`  | `atlas_counts()`      |
| `search_all()`       | `galah_select()`  | `atlas_occurrences()` |
|                      | `galah_group_by()`| `atlas_media()`       |
:::


## `galah` / number of records {auto-animate="true" transition-speed="fast"}

```{r, echo = TRUE, message = FALSE, warning = FALSE}
#| code-line-numbers: "|3|4|5"
#| output-location: fragment
library(galah)

galah_call() |>
  galah_identify("Eolophus roseicapilla") |> # galahs
  atlas_counts()
```

```{r, echo = FALSE, message = FALSE, warning = FALSE}
galah_config(verbose = FALSE)
```

## `galah` / number of records {auto-animate="true" transition-speed="fast"}

```{r, echo = TRUE, message = FALSE, warning = FALSE}
#| code-line-numbers: "|3,4"
galah_call() |>
  galah_identify("Eolophus roseicapilla") |>
  galah_filter(year >= 2010,
               dataResourceName == "iNaturalist Australia") |>
  atlas_counts()
```


## `galah` / number of records {auto-animate="true" transition-speed="fast"}

```{r, echo = TRUE, message = FALSE, warning = FALSE}
#| code-line-numbers: "|5"
galah_call() |>
  galah_identify("Eolophus roseicapilla") |>
  galah_filter(year >= 2010,
               dataResourceName == "iNaturalist Australia") |>
  galah_group_by(year) |>
  atlas_counts()
```

## `galah` / number of records {auto-animate="true" transition-speed="fast"}

```{r, echo = TRUE, message = FALSE, warning = FALSE}
galah_call() |>
  galah_identify("Cacatuidae") |> # cockatoos
  galah_filter(year >= 2019) |>
  galah_group_by(year, dataResourceName) |>
  atlas_counts()
```

## `galah` / occurrences


```{r, echo = TRUE, message = FALSE, warning = FALSE}
#| fig-cap: "Observations of Bandicoots & Bilbies in the Atlas of Living Australia in 2021"
#| output-location: slide
#| code-line-numbers: "|6-13|15-17|19-26"
library(galah)
library(ozmaps)
library(sf)
library(ggplot2)

# Enter email
galah_config(email = "martinjwestgate@gmail.com")

# Download species occurrences
obs <- galah_call() |>
  galah_identify("peramelidae") |>
  galah_filter(year == 2021) |>
  atlas_occurrences()

# Ensure map uses correct projection
oz_wgs84 <- ozmap_data(data = "country") |>
  st_transform(crs = st_crs("WGS84"))

# Map points
ggplot(data = obs) + 
  geom_sf(data = oz_wgs84, 
          fill = "white") +
  geom_point(aes(x = decimalLongitude,
                 y = decimalLatitude), 
             color = "#78cccc") +
  theme_void()
```


## `galah` / other atlases

```{r, echo = TRUE}
galah_config(atlas = "Austria")
galah_call() |> atlas_counts()
```
```{r, echo = TRUE}
galah_config(atlas = "UK")
galah_call() |> atlas_counts()
```

## `galah` / ALA labs

![](images/ala-labs_home.PNG){fig-align="center"}


## `galah` / ALA labs

![](images/ala-labs_posts.PNG){fig-align="center"}

## Learnings / `galah`
<br>

- articulate your reasons for change
- balance accepted vs novel methods
- respond to feedback (but not too much)

## Learnings / infrastructure
<br>

- 'fail quickly' and 'succeed slowly' mindsets both have merit
- reward systems can become divorced from real-world applications 
- no risk-free paths

## Thank you

::: columns
::: {.column width="80%"}

::: {style="font-size: 70%;"}
<b>Summary:</b>


- Open science is in a transition to a more infrastructure-dependent model
- In science, stability & innovation are co-dependent
- Working across the stability / innovation boundary is difficult

<b>Martin Westgate</b><br>
Team Leader / Science & Decision Support / ALA<br>
e: martin.westgate\@csiro.au<br> 
t: [@westgatecology](https://twitter.com/westgatecology)<br> 
gh: [@mjwestgate](https://github.com/mjwestgate)
<br>
<br>
<em>These slides were made using Quarto & RStudio</em>
:::

:::

::: {.column width="20%"}
![](images/logos/ALA_Logo.png){style="width: 100%; height: auto"}<br> ![](images/logos/NCRIS_logo.png){style="width: 100%; height: auto"}<br> ![](images/logos/CSIRO_logo.png){style="width: 100%; height: auto"}
:::

:::
